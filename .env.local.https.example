# Local HTTPS Production Testing Configuration
# This configuration enables testing the app in production mode (DEBUG=False)
# with HTTPS via Caddy reverse proxy using mDNS (.local domain).
#
# Setup instructions:
# 1. Find your Mac's mDNS hostname: hostname
#    (Example: alexs-macbook-pro.local)
# 2. Copy this file: cp .env.local.https.example .env.local.https
# 3. Update DOMAIN to your Mac's hostname (from step 1)
# 4. Run: make local-https
# 5. Access from desktop OR mobile: https://<your-hostname>.local:8443
# 6. For mobile: make caddy-export-ca (one-time certificate install)
#
# See docs/LOCAL_HTTPS_SETUP.md for complete instructions.

# =============================================================================
# Local HTTPS Configuration
# =============================================================================
# Your Mac's mDNS hostname (find it with: hostname)
# This domain works automatically on Mac, iPhone, and Android via mDNS/Bonjour
DOMAIN=your-macbook-pro.local

# Ports for local HTTPS server
HTTP_PORT=8080
HTTPS_PORT=8443

# =============================================================================
# Network Access (HTTPS ports)
# NOTE: These values must match your DOMAIN setting above
# =============================================================================
ALLOWED_HOSTS=your-macbook-pro.local,localhost
CSRF_TRUSTED_ORIGINS=https://your-macbook-pro.local:8443,https://localhost:8443

# =============================================================================
# Django Settings (Production Mode)
# =============================================================================
PORT=8000
DEBUG=False
LOG_LEVEL=INFO
DJANGO_SETTINGS_MODULE=wms.settings
SECRET_KEY=dev-insecure-change-me

# =============================================================================
# Database (copy from deploy/containers.json or use local DB)
# =============================================================================
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_PORT=5432
PGSSLMODE=require

# =============================================================================
# AWS S3 (for media storage; set USE_S3=False for local file storage)
# IMPORTANT: If using S3, ensure your AWS credentials have access to the bucket
# specified in AWS_STORAGE_BUCKET_NAME. Dev credentials may only work with
# the dev bucket (wms-media-dev-alexa).
# =============================================================================
USE_S3=True
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
# Override bucket selection (defaults to wms-media-prod-alexa when DEBUG=False)
# Use dev bucket if your credentials only have dev access
AWS_STORAGE_BUCKET_NAME=wms-media-dev-alexa
